<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mick's Home Keg System</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
    <script src="https://unpkg.com/feather-icons"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        @keyframes float {
            0%, 100% {
                transform: translateY(0) rotate(0deg);
            }
            50% {
                transform: translateY(-20px) rotate(5deg);
            }
        }
        .animate-float {
            animation: float 8s ease-in-out infinite;
        }
        .animation-delay-1000 {
            animation-delay: 1s;
        }
        .animation-delay-2000 {
            animation-delay: 2s;
        }
        .animation-delay-3000 {
            animation-delay: 3s;
        }
        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
            100% { transform: translateY(0px); }
        }
        @keyframes bubbles {
            0% { transform: translateY(0) scale(1); opacity: 0; }
            50% { opacity: 0.8; }
            100% { transform: translateY(-100px) scale(1.5); opacity: 0; }
        }
        .bubble {
            position: absolute;
            background: rgba(255,255,255,0.2);
            border-radius: 50%;
            animation: bubbles 3s infinite;
        }
        :root {
            --primary: #f59e0b;
            --primary-dark: #d97706;
            --secondary: #10b981;
            --danger: #ef4444;
            --dark: #1e293b;
            --darker: #0f172a;
        }
        
        .beer-glass {
            width: 80px;
            height: 120px;
            background: linear-gradient(to right, rgba(255,255,255,0.05), rgba(255,255,255,0.1));
            border-radius: 0 0 40px 40px;
            position: relative;
            overflow: hidden;
            margin: 0 auto 15px;
            border: 3px solid rgba(255,255,255,0.2);
            box-shadow: 
                inset 0 0 15px rgba(255,255,255,0.1),
                0 5px 20px rgba(0,0,0,0.3);
            transform-style: preserve-3d;
            perspective: 1000px;
        }
        .beer-foam {
            position: absolute;
            top: 0;
            width: 100%;
            height: 25px;
            background: linear-gradient(to bottom, rgba(255,255,255,0.4), rgba(255,255,255,0.2));
            border-radius: 50% 50% 0 0;
            box-shadow: inset 0 -5px 10px rgba(255,255,255,0.2);
            z-index: 2;
        }
        .beer-liquid {
            position: absolute;
            bottom: 0;
            width: 100%;
            background: linear-gradient(to bottom, 
                rgba(245, 158, 11, 0.9), 
                rgba(217, 119, 6, 0.9));
            transition: height 0.5s ease;
            box-shadow: inset 0 0 30px rgba(0,0,0,0.2);
            z-index: 1;
        }
        .beer-progress {
            height: 20px;
            background-color: #334155;
            border-radius: 10px;
            overflow: hidden;
            margin: 10px 0;
            box-shadow: inset 0 2px 4px rgba(0,0,0,0.2);
        }
        .beer-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary), var(--primary-dark));
            border-radius: 10px;
            transition: width 0.5s ease;
            position: relative;
            overflow: hidden;
        }
        .beer-fill::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, 
                rgba(255,255,255,0.1) 0%, 
                rgba(255,255,255,0.3) 50%, 
                rgba(255,255,255,0.1) 100%);
            animation: shimmer 2s infinite;
        }
        .status-circle {
            display: inline-block;
            width: 10px;
            height: 10px;
            border-radius: 50%;
            margin-left: 5px;
            box-shadow: 0 0 5px currentColor;
        }
        .status-connected {
            background-color: var(--secondary);
            color: var(--secondary);
        }
        .status-disconnected {
            background-color: var(--danger);
            color: var(--danger);
        }
        .tap-card {
            position: relative;
            overflow: hidden;
            border: 1px solid rgba(255,255,255,0.05);
            backdrop-filter: blur(5px);
            transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
        }
        .tap-card:hover {
            transform: translateY(-5px) scale(1.02);
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.4);
            border-color: rgba(245, 158, 11, 0.3);
        }
        .tap-card::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(
                to bottom right,
                rgba(255,255,255,0) 0%,
                rgba(255,255,255,0.05) 50%,
                rgba(255,255,255,0) 100%
            );
            transform: rotate(30deg);
            transition: all 0.3s ease;
            opacity: 0;
        }
        .tap-card:hover::before {
            opacity: 1;
            animation: shine 3s infinite;
        }
        .sensor-card {
            position: relative;
            border: 1px solid rgba(255,255,255,0.05);
            backdrop-filter: blur(5px);
            transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
        }
        .sensor-card:hover {
            transform: translateY(-3px) scale(1.01);
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.2);
        }
        .sensor-card .icon-container {
            background: linear-gradient(135deg, rgba(30, 41, 59, 0.5), rgba(15, 23, 42, 0.7));
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.2);
        }
        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }
        @keyframes shine {
            0% { transform: translateX(-100%) rotate(30deg); }
            20% { transform: translateX(100%) rotate(30deg); }
            100% { transform: translateX(100%) rotate(30deg); }
        }
        .glow-text {
            text-shadow: 0 0 8px rgba(245, 158, 11, 0.5);
        }
        .live-stream {
            position: relative;
            backdrop-filter: blur(5px);
        }
        .live-stream::after {
            content: 'LIVE';
            position: absolute;
            top: 10px;
            right: 10px;
            background-color: var(--danger);
            color: white;
            font-size: 12px;
            padding: 2px 8px;
            border-radius: 4px;
            font-weight: bold;
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.7; }
            100% { opacity: 1; }
        }
    </style>
</head>
<body class="bg-gradient-to-br from-gray-900 to-gray-800 text-white font-poppins min-h-screen">
    <div class="container mx-auto px-4 py-8 relative overflow-hidden">
            <!-- Floating particles background -->
            <div class="absolute inset-0 overflow-hidden pointer-events-none">
                <div class="absolute top-1/4 left-1/4 w-2 h-2 bg-yellow-400 rounded-full opacity-20 animate-float"></div>
                <div class="absolute top-1/3 right-1/4 w-3 h-3 bg-blue-400 rounded-full opacity-15 animate-float animation-delay-1000"></div>
                <div class="absolute bottom-1/4 left-1/3 w-4 h-4 bg-red-400 rounded-full opacity-10 animate-float animation-delay-2000"></div>
                <div class="absolute top-1/2 right-1/3 w-2 h-2 bg-green-400 rounded-full opacity-15 animate-float animation-delay-3000"></div>
                <div class="absolute bottom-1/3 left-1/2 w-3 h-3 bg-purple-400 rounded-full opacity-15 animate-float animation-delay-1500"></div>
                <div class="absolute top-1/5 right-1/5 w-2 h-2 bg-pink-400 rounded-full opacity-15 animate-float animation-delay-2500"></div>
            </div>
<header class="text-center mb-12 relative z-10" data-aos="fade-down">
            <div class="inline-block px-6 py-2 bg-gray-800 rounded-full border border-gray-700 mb-4">
                <p class="text-sm text-yellow-300 flex items-center justify-center">
                    <span class="relative flex h-2 w-2 mr-2">
                        <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-yellow-400 opacity-75"></span>
                        <span class="relative inline-flex rounded-full h-2 w-2 bg-yellow-500"></span>
                    </span>
                    LIVE MONITORING
                </p>
            </div>
            <h1 class="text-4xl md:text-5xl font-bold text-yellow-400 mb-2 glow-text tracking-tight group">
                <span class="bg-clip-text text-transparent bg-gradient-to-r from-yellow-400 via-yellow-300 to-yellow-500 transition-all duration-500 group-hover:from-yellow-300 group-hover:to-yellow-400">
                    BrewMaster 3000
                </span>
                <span class="text-2xl align-super ml-2 text-yellow-500 opacity-70 transition-all duration-500 group-hover:opacity-100 group-hover:text-yellow-300">üç∫</span>
            </h1>
<p class="text-gray-300 max-w-2xl mx-auto text-lg leading-relaxed">
                <span class="bg-gray-800/50 px-2 py-1 rounded-lg border border-gray-700 backdrop-blur-sm">
                    Real-time monitoring and control of your beer dispensing system with temperature and humidity tracking
                </span>
            </p>
        </header>

        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6">
            <!-- Tap 1 -->
            <div class="tap-card bg-gradient-to-br from-gray-800 to-gray-700 rounded-lg p-4 shadow-md transition-all duration-200 hover:shadow-lg hover:border hover:border-yellow-400/20 relative overflow-hidden" data-aos="fade-up" data-aos-delay="100">
                <div class="absolute -right-8 -top-8 w-16 h-16 bg-yellow-400 rounded-full filter blur-xl opacity-10"></div>
                <div class="flex items-center justify-between mb-3 relative z-10">
                    <h3 class="text-lg font-semibold text-yellow-400 flex items-center">
                        <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 12h14M5 12a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v4a2 2 0 01-2 2M5 12a2 2 0 00-2 2v4a2 2 0 002 2h14a2 2 0 002-2v-4a2 2 0 00-2-2m-2-4h.01M17 16h.01"></path>
                        </svg>
                        Tap 1
                    </h3>
                    <span class="text-xs font-bold bg-yellow-900 text-yellow-200 px-2 py-1 rounded-full flex items-center">
                        <span class="relative flex h-1.5 w-1.5 mr-1">
                            <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-yellow-400 opacity-75"></span>
                            <span class="relative inline-flex rounded-full h-2 w-2 bg-yellow-300"></span>
                        </span>
                        ACTIVE
                    </span>
                </div>
                <div class="beer-glass mb-4">
                    <div class="beer-foam"></div>
                    <div class="beer-liquid" style="height: 75%;"></div>
                    <div class="bubble" style="left: 15px; width: 5px; height: 5px; animation-delay: 0s;"></div>
                    <div class="bubble" style="left: 25px; width: 3px; height: 3px; animation-delay: 0.5s;"></div>
                    <div class="bubble" style="left: 35px; width: 4px; height: 4px; animation-delay: 1s;"></div>
                    <div class="bubble" style="left: 45px; width: 2px; height: 2px; animation-delay: 1.5s;"></div>
                </div>
                <div class="mb-4 relative z-10">
                    <p class="text-gray-400">Name: <span class="text-white font-medium">Lager</span></p>
                    <p class="text-gray-400">ABV: <span class="text-white font-medium">5.2%</span></p>
                    <p class="text-gray-400">IBU: <span class="text-white font-medium">20</span></p>
                    <p class="text-gray-400">Brew Date: <span class="text-white font-medium">12/05/2023</span></p>
                </div>
<div class="mb-4">
                    <div class="flex justify-between text-sm text-gray-400 mb-1">
                        <span>Fill Level</span>
                        <span>75%</span>
                    </div>
                    <div class="beer-progress">
                        <div class="beer-fill" style="width: 75%;"></div>
                    </div>
                </div>
                <div class="text-sm text-gray-400">
                    <p class="flex items-center"><i data-feather="clock" class="w-4 h-4 mr-2"></i> Last refilled: 5 days ago</p>
                    <p class="flex items-center mt-1"><i data-feather="activity" class="w-4 h-4 mr-2"></i> Status: <span class="ml-1 text-green-400">Ready</span> <span class="status-circle status-connected"></span></p>
                </div>
            </div>

            <!-- Tap 2 (Placeholder) -->
            <div class="tap-card bg-gray-800 rounded-lg p-4 shadow-md transition-all duration-200" data-aos="fade-up" data-aos-delay="200">
                <div class="flex items-center justify-between mb-3">
                    <h3 class="text-lg font-semibold text-yellow-400">Tap 2</h3>
                    <span class="text-xs bg-gray-700 text-gray-400 px-2 py-1 rounded-full">Inactive</span>
                </div>
                <div class="mb-4">
                    <p class="text-gray-400">Name: <span class="text-white font-medium">Empty</span></p>
                    <p class="text-gray-400">ABV: <span class="text-white font-medium">-</span></p>
                </div>
                <div class="mb-4">
                    <div class="flex justify-between text-sm text-gray-400 mb-1">
                        <span>Fill Level</span>
                        <span>0%</span>
                    </div>
                    <div class="beer-progress">
                        <div class="beer-fill" style="width: 0%;"></div>
                    </div>
                </div>
                <div class="text-sm text-gray-400">
                    <p class="flex items-center"><i data-feather="clock" class="w-4 h-4 mr-2"></i> Last refilled: Never</p>
                    <p class="flex items-center mt-1"><i data-feather="activity" class="w-4 h-4 mr-2"></i> Status: <span class="ml-1 text-red-400">Offline</span> <span class="status-circle status-disconnected"></span></p>
                </div>
            </div>

            <!-- Tap 3 (Placeholder) -->
            <div class="tap-card bg-gray-800 rounded-lg p-4 shadow-md transition-all duration-200" data-aos="fade-up" data-aos-delay="300">
                <div class="flex items-center justify-between mb-3">
                    <h3 class="text-lg font-semibold text-yellow-400">Tap 3</h3>
                    <span class="text-xs bg-gray-700 text-gray-400 px-2 py-1 rounded-full">Inactive</span>
                </div>
                <div class="mb-4">
                    <p class="text-gray-400">Name: <span class="text-white font-medium">Empty</span></p>
                    <p class="text-gray-400">ABV: <span class="text-white font-medium">-</span></p>
                </div>
                <div class="mb-4">
                    <div class="flex justify-between text-sm text-gray-400 mb-1">
                        <span>Fill Level</span>
                        <span>0%</span>
                    </div>
                    <div class="beer-progress">
                        <div class="beer-fill" style="width: 0%;"></div>
                    </div>
                </div>
                <div class="text-sm text-gray-400">
                    <p class="flex items-center"><i data-feather="clock" class="w-4 h-4 mr-2"></i> Last refilled: Never</p>
                    <p class="flex items-center mt-1"><i data-feather="activity" class="w-4 h-4 mr-2"></i> Status: <span class="ml-1 text-red-400">Offline</span> <span class="status-circle status-disconnected"></span></p>
                </div>
            </div>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
            <!-- Fridge Conditions -->
            <div class="sensor-card bg-gradient-to-br from-gray-800 to-gray-700 rounded-lg p-4 shadow-md transition-all duration-200" data-aos="fade-right">
                <div class="flex items-center mb-3">
                    <div class="icon-container p-2 rounded-md bg-blue-900/50 mr-3 backdrop-blur-sm">
                        <i data-feather="thermometer" class="text-blue-300"></i>
                    </div>
                    <h3 class="text-lg font-semibold text-blue-200">Fridge Conditions</h3>
                </div>
                <div class="space-y-3">
                    <div class="flex justify-between items-center">
                        <span class="text-gray-400">Temperature:</span>
                        <span id="fridgeTemp" class="text-xl font-bold">21.5 ¬∞C</span>
                    </div>
                    <div class="flex justify-between items-center">
                        <span class="text-gray-400">Humidity:</span>
                        <span id="fridgeHumidity" class="text-xl font-bold">45 %</span>
                    </div>
<div class="mt-4 pt-4 border-t border-gray-700">
                        <p class="text-sm text-gray-400 flex items-center">
                            <i data-feather="alert-circle" class="w-4 h-4 mr-2"></i>
                            <span id="fridgeStatus">Sensor connected</span>
                        </p>
                    </div>
                </div>
            </div>
<!-- Enclosure Conditions -->
            <div class="sensor-card bg-gray-800 rounded-lg p-4 shadow-md transition-all duration-200" data-aos="fade-left">
                <div class="flex items-center mb-3">
                    <div class="p-2 rounded-md bg-purple-900 bg-opacity-50 mr-3">
                        <i data-feather="cpu" class="text-purple-300"></i>
                    </div>
                    <h3 class="text-lg font-semibold">Enclosure Conditions</h3>
                </div>
                <div class="space-y-3">
                    <div class="flex justify-between items-center">
                        <span class="text-gray-400">Temperature:</span>
                        <span id="enclosureTemp" class="text-xl font-bold">23.1 ¬∞C</span>
                    </div>
                    <div class="flex justify-between items-center">
                        <span class="text-gray-400">Humidity:</span>
                        <span id="enclosureHumidity" class="text-xl font-bold">38 %</span>
                    </div>
                    <div class="mt-4 pt-4 border-t border-gray-700">
                        <p class="text-sm text-gray-400 flex items-center">
                            <i data-feather="alert-circle" class="w-4 h-4 mr-2"></i>
                            <span id="enclosureStatus">Sensor connected</span>
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Live Stream -->
        <div class="live-stream bg-gradient-to-br from-gray-800 to-gray-700 rounded-lg p-4 shadow-md mb-6 border border-gray-700 hover:shadow-lg hover:border-red-400/20 transition-all duration-200 group" data-aos="fade-up">
            <div class="absolute -right-8 -top-8 w-16 h-16 bg-red-400 rounded-full filter blur-xl opacity-10 group-hover:opacity-20 transition-opacity duration-200"></div>
            <div class="flex items-center mb-3">
                <div class="icon-container p-2 rounded-md bg-red-900/50 mr-3 backdrop-blur-sm">
                    <i data-feather="video" class="text-red-300"></i>
                </div>
                <h3 class="text-lg font-semibold text-red-200">Live Stream</h3>
            </div>
            <div class="aspect-w-16 aspect-h-9 bg-black rounded-md overflow-hidden border border-gray-700 relative">
                <iframe src="https://rtsp.me/embed/Efs6ShFy/" allow="autoplay" allowfullscreen class="w-full h-48 md:h-64"></iframe>
                <div class="absolute bottom-4 left-4 bg-black/70 text-white px-2 py-1 rounded text-xs">
                    <span class="relative flex h-2 w-2 mr-1 inline-block">
                        <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-red-500 opacity-75"></span>
                        <span class="relative inline-flex rounded-full h-2 w-2 bg-red-500"></span>
                    </span>
                    LIVE
                </div>
            </div>
        </div>
        <!-- Brew History -->
        <div class="bg-gradient-to-br from-gray-800 to-gray-700 rounded-lg p-4 shadow-md mb-6 border border-gray-700 hover:shadow-lg hover:border-green-400/20 transition-all duration-200" data-aos="fade-up">
            <div class="flex items-center mb-3">
                <div class="icon-container p-2 rounded-md bg-green-900/50 mr-3 backdrop-blur-sm">
                    <i data-feather="bar-chart-2" class="text-green-300"></i>
                </div>
                <h3 class="text-lg font-semibold text-green-200">Brew History</h3>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                <div class="bg-gray-700/50 p-3 rounded-lg">
                    <p class="text-gray-400 text-sm">Total Pours</p>
                    <p class="text-2xl font-bold text-green-400">1,284</p>
                </div>
                <div class="bg-gray-700/50 p-3 rounded-lg">
                    <p class="text-gray-400 text-sm">This Week</p>
                    <p class="text-2xl font-bold text-yellow-400">42</p>
                </div>
                <div class="bg-gray-700/50 p-3 rounded-lg">
                    <p class="text-gray-400 text-sm">Favorite Beer</p>
                    <p class="text-2xl font-bold text-blue-400">IPA</p>
                </div>
            </div>
        </div>
        <!-- Weather Station -->
        <div class="bg-gradient-to-br from-gray-800 to-gray-700 rounded-lg p-4 shadow-md mb-6 border border-gray-700 hover:shadow-lg hover:border-sky-400/20 transition-all duration-200" data-aos="fade-up">
            <div class="flex items-center mb-3">
                <div class="icon-container p-2 rounded-md bg-sky-900/50 mr-3 backdrop-blur-sm">
                    <i data-feather="cloud" class="text-sky-300"></i>
                </div>
                <h3 class="text-lg font-semibold text-sky-200">Local Weather</h3>
            </div>
            <div class="aspect-w-16 aspect-h-9 bg-black rounded-md overflow-hidden border border-gray-700 relative">
                <iframe src="https://holfuy.com/en/weather/569" allowfullscreen class="w-full h-48 md:h-64"></iframe>
            </div>
            <div class="mt-4 pt-4 border-t border-gray-700 space-y-3">
                <div class="flex justify-between items-center">
                    <span class="text-gray-400">CO2 Bottle Weight:</span>
                    <span id="co2Weight" class="text-xl font-bold">3.2 kg</span>
                </div>
                <div class="flex justify-between items-center">
                    <span class="text-gray-400">Gas Bottle Weight:</span>
                    <span id="gasWeight" class="text-xl font-bold">8.5 kg</span>
                </div>
            </div>
        </div>
        <!-- System Info -->
        <div class="bg-gradient-to-br from-gray-800 to-gray-700 rounded-lg p-4 shadow-md text-xs text-gray-300 border border-gray-700 hover:shadow-lg hover:border-blue-400/20 transition-all duration-200" data-aos="fade-up">
            <div class="grid grid-cols-1 md:grid-cols-5 gap-3 relative z-10">
                <div>
                    <p class="flex items-center mb-2"><i data-feather="wifi" class="w-4 h-4 mr-2"></i> WiFi: Connected</p>
                    <p class="flex items-center"><i data-feather="clock" class="w-4 h-4 mr-2"></i> Uptime: 2 days 5 hours</p>
                </div>
                <div>
                    <p class="flex items-center mb-2"><i data-feather="cpu" class="w-4 h-4 mr-2"></i> ESP8266</p>
                    <p class="flex items-center"><i data-feather="hard-drive" class="w-4 h-4 mr-2"></i> Free Memory: 24KB</p>
                </div>
                <div>
                    <p class="flex items-center mb-2"><i data-feather="refresh-cw" class="w-4 h-4 mr-2"></i> Last update: <span id="lastUpdate">Just now</span></p>
                    <p class="flex items-center"><i data-feather="git-commit" class="w-4 h-4 mr-2"></i> Version: 1.0.0</p>
                </div>
                <div class="text-center">
                    <a href="/weight.html" class="flex items-center justify-center bg-gray-700 hover:bg-gray-600 text-white px-3 py-2 rounded-lg transition-colors">
                        <i data-feather="scale" class="w-4 h-4 mr-2"></i> Weight Monitor
                    </a>
                </div>
                <div class="text-center">
                    <a href="/tap-monitor.html" class="flex items-center justify-center bg-gray-700 hover:bg-gray-600 text-white px-3 py-2 rounded-lg transition-colors">
                        <i data-feather="droplet" class="w-4 h-4 mr-2"></i> Tap Monitor
                    </a>
                </div>
            </div>
        </div>
</div>

    <script>
        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            AOS.init({
            duration: 800,
            easing: 'ease-in-out',
            once: true
        });
            feather.replace();
            
            // Add random bubbles to beer glasses
            function addBubbles() {
                document.querySelectorAll('.beer-glass').forEach(glass => {
                    for(let i = 0; i < 10; i++) {
                        const bubble = document.createElement('div');
                        bubble.className = 'bubble';
                        bubble.style.left = `${Math.random() * 50 + 5}px`;
                        bubble.style.width = `${Math.random() * 3 + 2}px`;
                        bubble.style.height = bubble.style.width;
                        bubble.style.animationDelay = `${Math.random() * 3}s`;
                        glass.appendChild(bubble);
                    }
                });
            }
            addBubbles();

            // Update sensor data
            function updateSensorData() {
                fetch("/data")
                .then(response => response.json())
                .then(data => {
                    document.getElementById("fridgeTemp").textContent = data.fridgeTemp + " ¬∞C";
                    document.getElementById("fridgeHumidity").textContent = data.fridgeHumidity + " %";
                    document.getElementById("co2Weight").textContent = data.co2Weight + " kg";
                    document.getElementById("gasWeight").textContent = data.gasWeight + " kg";
                    document.getElementById("enclosureTemp").textContent = data.enclosureTemp + " ¬∞C";
                    document.getElementById("enclosureHumidity").textContent = data.enclosureHumidity + " %";
// Update status indicators
                    document.getElementById("fridgeStatus").textContent = 
                        data.fridgeSensorConnected ? "Sensor connected" : "Sensor disconnected";
                    document.getElementById("enclosureStatus").textContent = 
                        data.enclosureSensorConnected ? "Sensor connected" : "Sensor disconnected";
                    
                    // Update timestamp
                    const now = new Date();
                    document.getElementById("lastUpdate").textContent = 
                        `Updated at ${now.getHours()}:${now.getMinutes().toString().padStart(2, '0')}`;
                })
                .catch(error => console.error("Error fetching data:", error));
        }
        // Brew animation for active taps
        function animateBrewing() {
            const activeTaps = document.querySelectorAll('.tap-card:hover .beer-glass');
            activeTaps.forEach(glass => {
                glass.classList.add('animate-pulse');
                setTimeout(() => {
                    glass.classList.remove('animate-pulse');
                }, 500);
            });
        }

        // Add event listeners for pour simulation
        document.querySelectorAll('.tap-card').forEach(card => {
            card.addEventListener('click', () => {
                if(card.querySelector('.beer-fill').style.width !== '0%') {
                    const fillElement = card.querySelector('.beer-fill');
                    const currentWidth = parseFloat(fillElement.style.width);
                    const newWidth = Math.max(0, currentWidth - 5);
                    fillElement.style.width = `${newWidth}%`;
                    card.querySelector('.beer-liquid').style.height = `${newWidth}%`;
                    animateBrewing();
                }
            });
        });

        // Update data every 5 seconds
        setInterval(updateSensorData, 5000);
        updateSensorData(); // Initial call

        // Add beer tap sound effect
        function playPourSound() {
            const audio = new Audio('https://www.soundjay.com/mechanical/sounds/beer-tap-01.mp3');
            audio.volume = 0.3;
            audio.play();
        }
});
    </script>
</body>
</html>

